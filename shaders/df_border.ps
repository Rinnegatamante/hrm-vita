// profile sce_fp_psp2

#ifdef GLES
#endif

// in

uniform sampler2D sSampler;

uniform float4 sParams[2];

#define sBorderColor sParams[1]

void main(
	float4 v_color : COLOR,
	float2 v_texCoord0: TEXCOORD0,
	float4 out gl_FragColor : COLOR
) {
	float window = sParams[0].x;
	float s = tex2D( sSampler, v_texCoord0).a;
	float4 finalColor = smoothstep( sParams[0].y - window, sParams[0].y + window, s ) * sBorderColor;
	gl_FragColor = finalColor;
}
